/*
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡴⠛⢧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢼⠒⠒⠖⠶⠶⠶⠶⠦⢤⣸⠁⠀⠈⢳⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡄⠀⠀⠀⠀⡀⠀⠀⠀⠈⠀⠀⠀⠀⠹⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢣⡀⠀⠀⠀⢃⠁⠐⠂⠀⠀⠀⠀⠀⠀⠙⢏⠓⠒⠒⠲⠦⠶⠴⠦⡄
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡔⠊⠙⣶⠀⢠⡔⠉⠀⠀⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡇
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣌⢠⠔⠉⠀⠀⠈⣐⢒⡒⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣤⣴⣖⡆⢸⡇
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⡀⠟⠶⡒⠁⡜⢁⣴⣇⠀⠀⡰⠈⢉⣵⣦⠀⠀⠀⠉⡷⠀⡼⣽⠃⡼⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠱⢼⡤⢼⠸⠁⢸⣿⡏⠀⠈⠀⠀⣿⣿⣿⡇⠀⠀⢰⠑⢾⣷⠇⡸⠃⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢡⡀⣸⢠⣆⠌⠛⢡⠀⠀⠀⠀⢿⣿⡿⠀⠀⠀⠘⠫⣟⠁⠺⣥⠀⠀
⠀⠀⠀⠀⠀⠀⢀⣠⠤⠤⠄⠒⠒⠒⠠⠤⢤⣀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⢆⢄⢤⢄⠤⠔⠒⠀⠀⢩⠚⠣⣄⠀⠀⠤⡠⠄⢢⠀⠀⡔⣮⠤⠀⢤⡀⣠⠃⠰⡎⠁⠀⠀
⠀⠀⠀⢀⡤⠚⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠢⣄⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠤⠼⡏⠉⠓⠒⡌⠐⠊⠀⠔⡷⡠⣀⣘⡏⠈⢫⠛⠉⠀⠀⠀⠀
⠀⠀⠀⠈⠙⢢⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢦⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰⡍⠉⢓⠼⠹⣎⠀⠀⠀⠀⠰⣿⠾⣄⡤⠔⠁⠀⠀⠀⠀⠀⠀
⠀⠀⠀⡰⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢆⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⣱⠒⠁⠐⠂⠹⡄⠀⠀⠀⣤⠼⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⢀⡜⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⣀⡈⢳⢹⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡴⠃⠀⢈⣓⠁⠀⠀⢒⡇⠀⠀⠤⢬⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⡜⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢏⠉⠉⠑⠊⠈⡄⠀⠀⠀⠀⠀⠀⠀⠀⢀⡜⠁⠀⠀⠈⠉⠀⠀⢀⡸⠁⠀⠀⢠⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⡜⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠳⠤⠀⠀⠀⠹⣄⠀⠀⠀⠀⠀⠀⠀⠀⢱⠂⠀⠀⢀⡤⠔⠊⠉⠀⠀⠀⠀⡇⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠲⣄⠀⠀⣀⠀⢠⠷⢌⠍⠓⠉⠉⢠⡂⠀⠀⠀⠀⠀⠀⣷⠈⣲⡠⠤⡄⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠉⠓⠒⠤⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⣠⠤⠤⠤⠤⢭⡓⠛⠍⠉⠀⠁⠀⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⣿⠀⠝⠀⠀⡇⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⡸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡜⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠈⢄⠀⠀⠀⠀⠀⠀⠐⠉⠀⠀⠀⠀⠀⠀⠀⠀⡇⠀⡆⠠⠞⠠⠤⣤⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠛⠉⠉⠁⠉⢹⠃⣀⣀⡀⠀⠀⠀⠀⠀⠀⠀⢸⠁⠀⠂⠀⠀⠀⠀⠀⣀⣀⣀⣀⣀⣆⣀⣀⣸⣀⣀⡀⠀⠀⠀⠀⠀⠀⠀⢀⣰⠀⠀⡇⠀⠀⢀⠞⠁⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⠉⠀⠀⠉⠉⠒⠦⣄⡀⠀⢠⠃⠀⠀⠀⠀⠈⠢⣠⠞⠉⠀⠀⠐⠀⡀⠀⠀⠁⠑⢄⠉⠉⠀⠀⠀⠀⠀⠀⠀⠈⢧⡀⣇⠀⠉⠉⠈⠳⡄⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠩⢷⠇⠒⠒⠀⢄⣠⠔⠋⠅⠀⠀⠀⠀⠀⠀⠈⠠⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⣠⢏⢼⠙⠲⣄⠀⢀⢹⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⠃⢀⣠⠴⠚⠉⠀⠀⠀⠀⠀⠄⠀⠀⠀⠀⠀⠀⢠⠀⠀⠀⠀⠈⢆⠀⠀⠀⠀⠀⠀⠀⢧⠁⠀⠀⠈⢺⠄⢸⠛⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣜⣣⠧⠟⠃⠘⠀⠀⠀⠀⠀⠀⠀⠀⠄⠀⠀⠀⣀⡄⠘⠀⠀⠀⠀⠀⢸⠀⠀⠀⠀⠀⢸⣀⡼⠀⠀⠻⡄⣼⡤⠟⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⠴⠒⠋⠉⠂⠀⠀⠀⠀⠀⠈⠂⠀⠀⠀⠀⠀⢸⠀⣠⣴⠋⠀⡘⠀⠀⠀⠀⠀⢸⠀⠀⠀⢀⡴⠛⠚⠛⠓⠒⠒⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠴⠊⠉⠀⠀⠀⠀⠀⠀⠈⠆⠀⠀⠀⠀⠈⡄⠀⠀⢀⣠⠜⠋⠁⠀⠉⠙⠒⠶⠤⠴⠒⠚⠉⠚⠓⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣶⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⡈⠄⣁⣄⣰⡡⠴⠚⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠳⠤⣱⣄⣀⣀⣀⠤⠴⠞⠛⠋⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
*/
import { world, system } from "@minecraft/server";
import { ActionFormData } from "@minecraft/server-ui";
import uiManager, { Button, UI } from "./uiManager";
import uiBuilder from "./api/uiBuilder";
import { ChestFormData } from "./lib/chestUI";
uiManager.addUI("package_ui_test", "a", (player) => {
    let chest = new ChestFormData("meow");
    chest.title("§0Box :3");
    // chest.button(0, "meow", ["meow"], 'textures/items/diamond', 1)
    // chest.button(1, "meow", ["meow"], 'textures/items/diamond', 1)
    chest.show(player).then(() => {});
});
uiManager.registerBuilder("testmeow", (player) => {
    return new UI()
        .setCherryUI(true)
        .setCherryUITheme(25)
        .setTitle("Meow")
        .addHeader(`Hello, ${player.name}!`)
        .addLabel(
            `this is a test for the uiManager builder! this should allow for global ui customization in the future...`
        )
        .addButton(
            new Button()
                .setText("Haiiii")
                .setIcon("textures/items/iron_ingot")
                .setCallback((player) => {
                    player.sendMessage("bai bai <3");
                })
        );
});
uiManager.addUI("tab_test", "testing UI for tabs", (player) => {
    new ActionFormData()
        .title("§t§a§b§b§e§dHi")
        .button("A")
        .button("§a§c§t§i§v§e§t§a§b§r§fSettings")
        .button("§t§a§b§r§fB")
        .button("§t§a§b§r§fB")
        .button("§t§a§b§r§fB")
        .button("§t§a§b§r§fB")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .button("A")
        .show(player);
});
world.beforeEvents.playerBreakBlock.subscribe((e) => {
    const player = e.player;
    if (player.hasTag("Spawn")) {
        e.cancel = true;
        system.run(() => {
            player.onScreenDisplay.setActionBar("§cYou can't do that here");
        });
    }
});
world.beforeEvents.playerPlaceBlock.subscribe((e) => {
    const player = e.player;
    if (player.hasTag("Spawn")) {
        e.cancel = true;
        system.run(() => {
            player.onScreenDisplay.setActionBar("§cYou can't do that here");
        });
    }
});
world.beforeEvents.playerInteractWithBlock.subscribe((e) => {
    const player = e.player;
    if (player.hasTag("Spawn")) {
        e.cancel = true;
        system.run(() => {
            player.onScreenDisplay.setActionBar("§cYou can't do that here");
        });
    }
});
world.beforeEvents.playerInteractWithEntity.subscribe((e) => {
    const player = e.player;
    if (player.hasTag("Spawn")) {
        e.cancel = true;
        system.run(() => {
            player.onScreenDisplay.setActionBar("§cYou can't do that here");
        });
    }
});
function loop() {
    for (const player of world.getPlayers()) {
        if (player.hasTag("Spawn")) {
            player.onScreenDisplay.setActionBar("§aSpawn");
        }
    }
}
system.runInterval(() => {
    loop();
}, 1);
